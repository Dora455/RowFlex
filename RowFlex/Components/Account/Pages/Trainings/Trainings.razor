@page "/trainings"

@rendermode InteractiveServer

@using RowFlex.Data
@using RowFlex.Models
@inject ApplicationDbContext DbContext
@inject NavigationManager NavigationManager

<PageTitle>Trainings</PageTitle>

<h3>Trainings</h3>

@if (trainings.Any())
{
    <ul class="list-group">
        @foreach (var training in trainings)
        {
            <li class="list-group-item">
                <strong>@training.Title</strong> - @training.TrainingType
            </li>
        }
    </ul>
}
else
{
    <p>No saved trainings available.</p>
}

<!-- Buttons -->
<div class="mt-3">
    <button class="btn btn-primary" @onclick="NavigateToAddTraining">Add Training</button>
</div>

@code {
    private List<Training> trainings = new();

    protected override void OnInitialized()
    {
        trainings = DbContext.Trainings.Where(t => t.Saved).ToList();
    }

    private void NavigateToAddTraining() => NavigationManager.NavigateTo("/trainings/add");
}
